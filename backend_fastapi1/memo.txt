フロント画面は以下要素から構成される

1 読み込みボタン
2 コード入力エリア
3 名称表示エリア
4 単価表示エリア
5 購入リストへ追加ボタン
6 購入品目リスト(名称/数量/単価/単品合計)
7 購入ボタン

フロントエンドの挙動は以下
「2 コード入力エリア」へ商品コードをタイプし、「1 読み込みボタン」を押す。商品コードを「商品マスタ」へ問い合わせ
「3 名称表示エリア」に該当の「商品名称」を表示し、「4 単価表示エリア」に取得した「商品単価」を画面表示する
該当商品が「商品マスタ」にない場合は、「3 名称表示エリア」には"商品がマスタ未登録"と表示
「5 購入リストへ追加ボタン」ボタンをおすと「6 購入品目リスト」へ追加され、「2 コード入力エリア」と「3 名称表示エリア」と「4 単価表示エリア」は空欄になる
商品登録を繰り返し「6 購入品目リスト」に商品を追加する作業を繰り返す。
全て登録し終えたら「7 購入ボタン」をクリックすると購買結果はDB内の「取引マスタ」へ登録
「7 購入ボタン」をクリック後、ポップアップで「合計金額（税込）」を表示する
OKボタンをおすとポップアップを閉じ「6 購入品目リスト」の内容が空欄になる

APIの機能は以下
・機能名:「商品マスタ」検索
パラメータ:コード(商品コードのこと) リターン:商品情報(商品一意キー/商品コード/商品名称/商品単価)
1−1 パラメータのコードに一致する商品コードの商品を1件返す。
1-e1 対象が見つからなかった場合はNULL情報を返す。

・機能名:購入
パラメータ:レジ担当者コード、店舗コード、POS機ID
(購入品目リスト分)商品一意キー、商品コード、商品名称、商品単価 -リターン:成否(True/False)、合計金額
1−1 「取引マスタ」へ登録する。
取引一意キー(採番インクリメンタル 1〜)、取引日時(現在日時システム日付)、レジ担当者コード(パラメータより、空白の場合は’9999999999’)、店舗コード(’30'固定) POS機ID(’90’固定、モバイルレジという意味)、合計金額(0) 登録後'取引一意キー’を取得し返す
1−2 「取引明細マスタ」へ登録する。 取引一意キー(1−1の登録後の値)、取引明細一意キー(採番インクリメンタル 1〜/取引ごと)、 商品一意キー(パラメータ)、商品コード(パラメータ)、商品名称(パラメータ)、 商品単価(パラメータ)、税額（商品単価の10%）
1−3 合計を計算する (繰り返し処理)商品単価を変数”V_合計金額”へ足し込んで合計金額作成。
1−4 「取引マスタ」を更新する。 更新条件:取引一意キー(1−1の登録後の値)、更新値:合計金額(V_合計金額)
1−5 合計金額をフロントへ返す。

日本語と英語の対応は以下

商品マスタ＝ __tablename__ = "products"
商品名称＝name = Column(String(50), nullable=False)
商品単価＝price = Column(Integer, nullable=False)
商品コード＝prd_code = Column(String(6), unique=True, index=True, nullable=False)
商品一意キー＝prd_id = Column(Integer, primary_key=True, index=True)これはインクリメンタル

取引マスタ＝__tablename__ = "transactions"
取引一意キー(採番インクリメンタル 1〜)＝trd_id = Column(Integer, primary_key=True, index=True)
取引日時(現在日時システム日付)＝ datetime = Column(DateTime, default=datetime.datetime.utcnow)
レジ担当者コード(パラメータより、空白の場合は’9999999999’)＝emp_cd = Column(String(10))
店舗コード(’30'固定) ＝store_cd = Column(String(5))
POS機ID(’90’固定、モバイルレジという意味)＝pos_no = Column(String(3))
合計金額(0) ＝total_amt = Column(Integer, nullable=False)

取引明細マスタ＝ __tablename__ = "transaction_details"
取引一意キー＝trd_id = Column(Integer, ForeignKey("transactions.trd_id"))
取引明細一意キー(採番インクリメンタル 1〜/取引ごと)＝dtl_id = Column(Integer, primary_key=True, index=True)
商品一意キー(パラメータ)＝prd_id = Column(Integer, ForeignKey("products.prd_id"))
商品コード(パラメータ)＝prd_code = Column(String(6))
商品名称(パラメータ)＝prd_name = Column(String(50))
商品単価(パラメータ)＝prd_price = Column(Integer)
なお税額は10％、商品ごとの税額＝ tax_cd = Column(String(2))
